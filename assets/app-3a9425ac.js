import{a as y,s as m,d as C,r as k,o as b,b as w,c as j,e as _,w as f,C as M,f as p,g as T,h as N,i,j as h,k as D,t as g,F as $,l as A,I as L,m as P}from"./api-c6c7b28b.js";const S=(t,o)=>{const e=t.__vccOpts||t;for(const[s,c]of o)e[s]=c;return e};y.defaults.headers.common["Content-Type"]="application/json;charset=utf-8";const q={timeout:60*100},d=y.create(q);d.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)});d.interceptors.response.use(function(t){const{data:o,infocode:e="10000"}=t.data;return e!=="10000"?(m("操作失败"),Promise.reject(o)):t.data},function(t){return m("操作失败"),Promise.reject(t)});const B={list:{list:"data/list.json",qa:"data/qa.json"},weather:{city:"data/city.json"},api:t=>`https://87tetwnrqe.hk.aircode.run/${t}`,emojihub:"https://emojihub.yurace.pro/api/all/"},F=t=>{let o=!1;try{const e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),o=!0}catch(e){console.log(e)}return o},O=["innerHTML"],I=C({__name:"MacApps",setup(t){const o=k([]),e=s=>{const c=F(s);A({type:c?"success":"fail",message:`复制${c?"成功":"失败"}`})};return b(async()=>{w({duration:0,message:"加载中...",forbidClick:!0});const s=await d.post(B.api("http"),{url:"https://www.digit77.com/categories/macapps/index.xml"}),r=new DOMParser().parseFromString(s.data,"text/xml").firstChild.childNodes[1].childNodes||[],l=Array.from(r).filter(n=>n.tagName==="item").map(n=>Array.from(n.childNodes).filter(a=>a.tagName));o.value=l.map(n=>{const[a,u,v,,,x]=n;return{title:a.textContent,link:u.textContent,pubDate:new Date(v.textContent).toLocaleString(),description:x.textContent.replace("Download 点击前往下载 欢迎每日关注更新内容 ","")}}),j()}),(s,c)=>{const r=L,l=P,n=M;return p(),_(n,{title:"点击复制地址"},{default:f(()=>[(p(!0),T($,null,N(o.value,a=>(p(),_(l,{key:a.title,title:a.title,onClick:u=>e(a.link)},{label:f(()=>[i("div",{class:"description",innerHTML:a.description},null,8,O),i("div",null,[h(r,{class:"icon",name:"link-o"}),D(g(a.link),1)]),i("div",null,[h(r,{class:"icon",name:"clock-o"}),i("i",null,g(a.pubDate),1)])]),_:2},1032,["title","onClick"]))),128))]),_:1})}}});const V=S(I,[["__scopeId","data-v-c0a82e3b"]]),H=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"}));export{d as $,H as M,S as _,B as a,F as c};
