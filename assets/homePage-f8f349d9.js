import{c as D,d as E,r as u,g as F,a as G,b as y,i as M,w as N,e as O,o as A,f as j,n as P,h as o,j as m,t as z,m as I,k as R,l as U,p as B,I as V,q as W,s as w,u as S,v as q,F as C,x as J,y as _,z as T,A as X,_ as H}from"./main-ef9e9c0f.js";import{L as K,C as Q}from"./index-b2f44d30.js";import{C as Y}from"./index-dd991a4b.js";const[Z,c]=D("image"),ee={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:m,height:m,radius:m,lazyLoad:Boolean,iconSize:m,showError:z,errorIcon:I("photo-fail"),iconPrefix:String,showLoading:z,loadingIcon:I("photo")};var te=E({name:Z,props:ee,emits:["load","error"],setup(t,{emit:d,slots:n}){const l=u(!1),r=u(!0),a=u(),{$Lazyload:i}=F().proxy,h=G(()=>{const e={width:y(t.width),height:y(t.height)};return M(t.radius)&&(e.overflow="hidden",e.borderRadius=y(t.radius)),e});N(()=>t.src,()=>{l.value=!1,r.value=!0});const f=e=>{r.value&&(r.value=!1,d("load",e))},g=()=>{const e=new Event("load");Object.defineProperty(e,"target",{value:a.value,enumerable:!0}),f(e)},s=e=>{l.value=!0,r.value=!1,d("error",e)},L=(e,v,k)=>k?k():o(V,{name:e,size:t.iconSize,class:v,classPrefix:t.iconPrefix},null),$=()=>{if(r.value&&t.showLoading)return o("div",{class:c("loading")},[L(t.loadingIcon,c("loading-icon"),n.loading)]);if(l.value&&t.showError)return o("div",{class:c("error")},[L(t.errorIcon,c("error-icon"),n.error)])},p=()=>{if(l.value||!t.src)return;const e={alt:t.alt,class:c("img"),style:{objectFit:t.fit,objectPosition:t.position}};return t.lazyLoad?R(o("img",B({ref:a},e),null),[[U("lazy"),t.src]]):o("img",B({ref:a,src:t.src,onLoad:f,onError:s},e),null)},x=({el:e})=>{const v=()=>{e===a.value&&r.value&&g()};a.value?v():P(v)},b=({el:e})=>{e===a.value&&!l.value&&s()};return i&&O&&(i.$on("loaded",x),i.$on("error",b),A(()=>{i.$off("loaded",x),i.$off("error",b)})),j(()=>{P(()=>{var e;(e=a.value)!=null&&e.complete&&!t.lazyLoad&&g()})}),()=>{var e;return o("div",{class:c({round:t.round,block:t.block}),style:h.value},[p(),$(),(e=n.default)==null?void 0:e.call(n)])}}});const oe=W(te);const ae=[{title:"fakerapi列表",to:"/list"},{title:"pinia计数器",to:"/counter"},{title:"近3天天气预报",to:"/weather"},{title:"Mac软件",to:"/MacApps"},{title:"表情图标合集",to:"/emojiLib"},{title:"BLOG",to:"/url/babytutu.github.io/BLOG"}],ne={key:0,class:"xcx"},re=E({__name:"homePage",setup(t){const d=u(ae),n=u(!1);return J("log")("a",111),j(async()=>{n.value=!!window.WeixinJSBridge}),(r,a)=>{const i=Q,h=Y,f=K,g=oe;return _(),w(C,null,[o(h,null,{default:S(()=>[(_(!0),w(C,null,T(d.value,s=>(_(),X(i,{key:s.title,title:s.title,to:s.to,"is-link":""},null,8,["title","to"]))),128))]),_:1}),n.value?(_(),w("div",ne,[o(g,{width:"220",src:"assets/xcx.png"},{loading:S(()=>[o(f,{type:"spinner",size:"20"})]),_:1})])):q("",!0)],64)}}});const ce=H(re,[["__scopeId","data-v-68979db0"]]);export{ce as default};
