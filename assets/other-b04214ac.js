import{W as K,a as h,X as Q,i as pe,w as me,r as ve,Y as E,Z as ee,_ as he,a0 as ge,a1 as be,a2 as ye,n as Se,a3 as xe,c as T,d as L,I as W,$ as A,m as H,b as j,e as m,f as g,g as ke,F as N,J,M as Pe,v as b,j as U,k as R,C as X,a4 as Ce,a5 as we,a6 as je,a7 as $e,z as D,D as Le,x as te,a8 as ne,q as Me,S as Oe,l as Ve,o as De,y as Y,A as Ie}from"./amap-e164a35b.js";import{_ as q,c as Ne,u as Re}from"./tool-75392b86.js";var Ee=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let oe;const z=e=>oe=e,se=Symbol();function B(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var I;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(I||(I={}));function lt(){const e=K(!0),o=e.run(()=>h({}));let n=[],t=[];const a=Q({install(s){z(a),a._a=s,s.provide(se,a),s.config.globalProperties.$pinia=a,t.forEach(c=>n.push(c)),t=[]},use(s){return!this._a&&!Ee?t.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:o});return a}const ae=()=>{};function Z(e,o,n,t=ae){e.push(o);const a=()=>{const s=e.indexOf(o);s>-1&&(e.splice(s,1),t())};return!n&&be()&&ye(a),a}function $(e,...o){e.slice().forEach(n=>{n(...o)})}const ze=e=>e();function F(e,o){e instanceof Map&&o instanceof Map&&o.forEach((n,t)=>e.set(t,n)),e instanceof Set&&o instanceof Set&&o.forEach(e.add,e);for(const n in o){if(!o.hasOwnProperty(n))continue;const t=o[n],a=e[n];B(a)&&B(t)&&e.hasOwnProperty(n)&&!E(t)&&!ee(t)?e[n]=F(a,t):e[n]=t}return e}const Be=Symbol();function Fe(e){return!B(e)||!e.hasOwnProperty(Be)}const{assign:C}=Object;function Te(e){return!!(E(e)&&e.effect)}function We(e,o,n,t){const{state:a,actions:s,getters:c}=o,l=n.state.value[e];let u;function _(){l||(n.state.value[e]=a?a():{});const d=xe(n.state.value[e]);return C(d,s,Object.keys(c||{}).reduce((p,f)=>(p[f]=Q(T(()=>{z(n);const y=n._s.get(e);return c[f].call(y,y)})),p),{}))}return u=ce(e,_,o,n,t,!0),u}function ce(e,o,n={},t,a,s){let c;const l=C({actions:{}},n),u={deep:!0};let _,d,p=[],f=[],y;const S=t.state.value[e];!s&&!S&&(t.state.value[e]={}),h({});let P;function G(i){let r;_=d=!1,typeof i=="function"?(i(t.state.value[e]),r={type:I.patchFunction,storeId:e,events:y}):(F(t.state.value[e],i),r={type:I.patchObject,payload:i,storeId:e,events:y});const k=P=Symbol();Se().then(()=>{P===k&&(_=!0)}),d=!0,$(p,r,t.state.value[e])}const le=s?function(){const{state:r}=n,k=r?r():{};this.$patch(w=>{C(w,k)})}:ae;function re(){c.stop(),p=[],f=[],t._s.delete(e)}function ue(i,r){return function(){z(t);const k=Array.from(arguments),w=[],O=[];function fe(v){w.push(v)}function de(v){O.push(v)}$(f,{args:k,name:i,store:x,after:fe,onError:de});let V;try{V=r.apply(this&&this.$id===e?this:x,k)}catch(v){throw $(O,v),v}return V instanceof Promise?V.then(v=>($(w,v),v)).catch(v=>($(O,v),Promise.reject(v))):($(w,V),V)}}const ie={_p:t,$id:e,$onAction:Z.bind(null,f),$patch:G,$reset:le,$subscribe(i,r={}){const k=Z(p,i,r.detached,()=>w()),w=c.run(()=>me(()=>t.state.value[e],O=>{(r.flush==="sync"?d:_)&&i({storeId:e,type:I.direct,events:y},O)},C({},u,r)));return k},$dispose:re},x=ve(ie);t._s.set(e,x);const _e=t._a&&t._a.runWithContext||ze,M=t._e.run(()=>(c=K(),_e(()=>c.run(o))));for(const i in M){const r=M[i];if(E(r)&&!Te(r)||ee(r))s||(S&&Fe(r)&&(E(r)?r.value=S[i]:F(r,S[i])),t.state.value[e][i]=r);else if(typeof r=="function"){const k=ue(i,r);M[i]=k,l.actions[i]=r}}return C(x,M),C(he(x),M),Object.defineProperty(x,"$state",{get:()=>t.state.value[e],set:i=>{G(r=>{C(r,i)})}}),t._p.forEach(i=>{C(x,c.run(()=>i({store:x,app:t._a,pinia:t,options:l})))}),S&&s&&n.hydrate&&n.hydrate(x.$state,S),_=!0,d=!0,x}function Ae(e,o,n){let t,a;const s=typeof o=="function";typeof e=="string"?(t=e,a=s?n:o):(a=e,t=e.id);function c(l,u){const _=ge();return l=l||(_?pe(se,null):null),l&&z(l),l=oe,l._s.has(t)||(s?ce(t,o,a,l):We(t,a,l)),l._s.get(t)}return c.$id=t,c}const He={key:0,class:"xcx"},Je=L({__name:"homePage",setup(e){const o=h([]),n=h(!1);return W(async()=>{const t=await A.get(H.list.list);o.value=t.data.list,n.value=!!window.WeixinJSBridge}),(t,a)=>{const s=X,c=J,l=Ce,u=Pe;return b(),j(N,null,[m(c,null,{default:g(()=>[(b(!0),j(N,null,U(o.value,_=>(b(),R(s,{key:_.title,title:_.title,to:_.to,"is-link":""},null,8,["title","to"]))),128))]),_:1}),n.value?(b(),j("div",He,[m(u,{width:"220",src:"assets/xcx.png"},{loading:g(()=>[m(l,{type:"spinner",size:"20"})]),_:1})])):ke("",!0)],64)}}});const Ue=q(Je,[["__scopeId","data-v-2108b383"]]),rt=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));const Xe=L({__name:"T-list",emits:["getData"],setup(e,{expose:o,emit:n}){const t=h(!1),a=h(!1),s=h(!1),c=h([]),l=h(1);function u(p,f){c.value=c.value.concat(p),a.value=f,s.value=!1,t.value=!1,f||l.value++}function _(){t.value=!0,s.value&&(c.value=[]),n("getData",l.value)}function d(){s.value=!0,c.value=[],l.value=1,_()}return o({renderList:u}),(p,f)=>{const y=$e,S=we;return b(),R(S,{modelValue:s.value,"onUpdate:modelValue":f[1]||(f[1]=P=>s.value=P),onRefresh:d},{default:g(()=>[m(y,{loading:t.value,"onUpdate:loading":f[0]||(f[0]=P=>t.value=P),finished:a.value,"finished-text":"没有更多了",onLoad:_},{default:g(()=>[(b(!0),j(N,null,U(c.value,P=>je(p.$slots,"default",{key:P.id,data:P})),128))]),_:3},8,["loading","finished"])]),_:3},8,["modelValue"])}}}),qe=10,Ge=L({__name:"listPage",setup(e){const o=h(null);function n(t){A.get(H.fakerapi("books",20)).then(a=>{var s;(s=o.value)==null||s.renderList(a.data,t>qe)})}return(t,a)=>{const s=X;return b(),R(Xe,{ref_key:"list",ref:o,onGetData:n},{default:g(c=>[m(s,{title:c.data.title,label:c.data.description},null,8,["title","label"])]),_:1},512)}}}),ut=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"})),Ye=Ae("counter",{state:()=>({count:1}),actions:{changeCount(e){this.count=e},add(){this.count++}}}),Ze={class:"bottom-btn"},Ke=L({__name:"counterPage",setup(e){const o=h(0),n=Ye(),t=T(()=>n.count);function a(){n.$reset(),o.value=n.count}function s(){n.changeCount(o.value)}function c(){n.add()}return W(()=>{o.value=n.count}),(l,u)=>{const _=ne,d=Me,p=Oe,f=J,y=Le;return b(),j(N,null,[m(f,{title:"状态管理",inset:""},{default:g(()=>[m(d,{center:"","model-value":t.value,label:"计数器",readonly:""},{button:g(()=>[m(_,{name:"plus",onClick:c})]),_:1},8,["model-value"]),m(d,{name:"stepper",label:"步进器"},{input:g(()=>[m(p,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=S=>o.value=S),modelModifiers:{number:!0},min:"0",max:"100"},null,8,["modelValue"])]),button:g(()=>[m(_,{name:"success",onClick:s})]),_:1})]),_:1}),D("div",Ze,[m(y,{round:"",block:"",type:"primary","native-type":"submit",onClick:a},{default:g(()=>[te(" 重置 ")]),_:1})])],64)}}});const Qe=q(Ke,[["__scopeId","data-v-7152bc5d"]]),it=Object.freeze(Object.defineProperty({__proto__:null,default:Qe},Symbol.toStringTag,{value:"Module"})),et=["innerHTML"],tt=L({__name:"MacApps",setup(e){const o=h([]),n=t=>{const a=Ne(t);Ie({type:a?"success":"fail",message:`复制${a?"成功":"失败"}`})};return W(async()=>{Ve({duration:0,message:"加载中...",forbidClick:!0});const t=await A.post(H.api("http"),{url:"https://www.digit77.com/categories/macapps/index.xml"}),s=new DOMParser().parseFromString(t.data,"text/xml").firstChild.childNodes[1].childNodes||[],c=Array.from(s).filter(l=>l.tagName==="item").map(l=>Array.from(l.childNodes).filter(u=>u.tagName));o.value=c.map(l=>{const[u,_,d,,,p]=l;return{title:u.textContent,link:_.textContent,pubDate:new Date(d.textContent).toLocaleString(),description:p.textContent.replace("Download 点击前往下载 欢迎每日关注更新内容 ","")}}),De()}),(t,a)=>{const s=ne,c=X,l=J;return b(),R(l,{title:"点击复制地址"},{default:g(()=>[(b(!0),j(N,null,U(o.value,u=>(b(),R(c,{key:u.title,title:u.title,onClick:_=>n(u.link)},{label:g(()=>[D("div",{class:"description",innerHTML:u.description},null,8,et),D("div",null,[m(s,{class:"icon",name:"link-o"}),te(Y(u.link),1)]),D("div",null,[m(s,{class:"icon",name:"clock-o"}),D("i",null,Y(u.pubDate),1)])]),_:2},1032,["title","onClick"]))),128))]),_:1})}}});const nt=q(tt,[["__scopeId","data-v-c0a82e3b"]]),_t=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"})),ot=["src"],st=L({__name:"iframePage",setup(e){const o=Re(),n=T(()=>"//"+o.params.url);return(t,a)=>(b(),j("iframe",{src:n.value,frameborder:"0",width:"100%",height:"100%"},null,8,ot))}}),ft=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"}));export{_t as M,it as a,lt as c,rt as h,ft as i,ut as l};
