import{a as m,s as l,d as f,r as h,o as v,b as u,c as y,w as g,e as r,f as p,g as x,t as _,h as k,I as C,C as w,i as b,j as T,k as j,l as M,F as N}from"./api-8c8e3d1a.js";const D=(t,a)=>{const e=t.__vccOpts||t;for(const[c,n]of a)e[c]=n;return e};m.defaults.headers.common["Content-Type"]="application/json;charset=utf-8";const S={timeout:60*100},d=m.create(S);d.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)});d.interceptors.response.use(function(t){const{data:a,infocode:e="10000"}=t.data;return e!=="10000"?(l("操作失败"),Promise.reject(a)):a},function(t){return l("操作失败"),Promise.reject(t)});const I={list:{list:"data/list.json",qa:"data/qa.json"},weather:{city:"data/city.json"},api:t=>`https://87tetwnrqe.hk.aircode.run/${t}`},L=["innerHTML"],P=f({__name:"T-item",props:{data:{}},setup(t){const a=t,e=h(""),c=()=>{try{const n=document.createElement("input");n.value=e.value.link,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),k("下载地址复制成功")}catch{l("下载地址复制失败")}};return v(()=>{const[n,o,s,,,i]=a.data;e.value={title:n.textContent,link:o.textContent,pubDate:new Date(s.textContent).toLocaleString(),description:i.textContent.replace("Download 点击前往下载 欢迎每日关注更新内容 ","")}}),(n,o)=>{const s=C,i=w;return u(),y(i,{title:e.value.title,onClick:c},{label:g(()=>[r("div",{class:"description",innerHTML:e.value.description},null,8,L),r("div",null,[p(s,{class:"icon",name:"link-o"}),x(_(e.value.link),1)]),r("div",null,[p(s,{class:"icon",name:"clock-o"}),r("i",null,_(e.value.pubDate),1)])]),_:1},8,["title"])}}});const $=D(P,[["__scopeId","data-v-b8aea227"]]),q=f({__name:"MacApps",setup(t){const a=h([]);return v(async()=>{b({duration:0,message:"加载中...",forbidClick:!0});const e=await d.post(I.api("http"),{url:"https://www.digit77.com/categories/macapps/index.xml"}),n=new DOMParser().parseFromString(e,"text/xml").firstChild.childNodes[1].childNodes||[];a.value=Array.from(n).filter(o=>o.tagName==="item").map(o=>Array.from(o.childNodes).filter(s=>s.tagName)),T()}),(e,c)=>{const n=$;return u(!0),j(N,null,M(a.value,o=>(u(),y(n,{data:o,key:o},null,8,["data"]))),128)}}}),B=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));export{d as $,B as M,D as _,I as a};
